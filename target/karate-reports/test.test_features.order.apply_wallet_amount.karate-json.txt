{"failedCount":0,"prefixedPath":"classpath:test\/test_features\/order\/apply_wallet_amount.feature","packageQualifiedName":"test.test_features.order.apply_wallet_amount","loopIndex":-1,"relativePath":"test\/test_features\/order\/apply_wallet_amount.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":43265,"millis":0.043265,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8009\/graphql\/'"}},{"result":{"nanos":44208,"millis":0.044208,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def token = \"\""}},{"result":{"nanos":416351,"millis":0.416351,"status":"passed"},"step":{"comments":["# Apply Wallet Amount"],"line":10,"prefix":"Given","index":0,"text":"def query = read('apply_wallet_amount.graphql')"}},{"result":{"nanos":131862,"millis":0.131862,"status":"passed"},"step":{"line":11,"prefix":"And","index":1,"text":"def variables = { orderId:T3JkZXJOb2RlOjI4, shopId:U2hvcFR5cGU6MQ==, amount:10.00 }"}},{"result":{"nanos":50969,"millis":0.050969,"status":"passed"},"step":{"line":12,"prefix":"And","index":2,"text":"request {query:'#(query)',variables:\"#(variables)\"}"}},{"result":{"nanos":6056007,"millis":6.056007,"status":"passed"},"step":{"line":13,"prefix":"When","index":3,"text":"method post"},"stepLog":"12:23:22.860 request:\n1 > POST http:\/\/localhost:8009\/graphql\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 349\n1 > Host: localhost:8009\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2-ea)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"mutation ApplyWalletAmount($orderId:ID!, $shopId:ID!, $amount:Decimal!){\\n\\tapplyWalletAmount(orderId:$orderId, shopId:$shopId, amount:$amount){\\n\\t\\torder{\\n\\t\\t\\tid\\n\\t\\t\\tisPaid\\n\\t\\t\\tisActive\\n\\t\\t\\tdiscount\\n\\t\\t}\\n\\t\\tstatus\\n\\t\\tmessage\\n\\t}\\n}\",\"variables\":{\"orderId\":\"T3JkZXJOb2RlOjI4\",\"shopId\":\"U2hvcFR5cGU6MQ==\",\"amount\":10.0}}\n\n12:23:22.865 response time in milliseconds: 5\n1 < 200\n1 < Date: Thu, 15 Sep 2022 06:53:22 GMT\n1 < Server: WSGIServer\/0.2 CPython\/3.10.6\n1 < Content-Type: application\/json\n1 < Vary: Cookie\n1 < X-Frame-Options: DENY\n1 < Content-Length: 175\n1 < X-Content-Type-Options: nosniff\n1 < Referrer-Policy: same-origin\n1 < Set-Cookie: csrftoken=EGoRpskVaw7iXwnHMtjoaN4evSqVrV1Agva493IqXdIOl2yHd5UjkGfyHEvRkhHF; Max-Age=1694674402000; Expires=Thu, 19 Oct 55724 08:20:02 GMT; Domain=localhost\n{\"errors\":[{\"message\":\"You do not have permission to perform this action\",\"locations\":[{\"line\":2,\"column\":2}],\"path\":[\"applyWalletAmount\"]}],\"data\":{\"applyWalletAmount\":null}}\n\n"},{"result":{"nanos":14592,"millis":0.014592,"status":"passed"},"step":{"line":14,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":204229,"millis":0.204229,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"match response.errors[0].message == 'You do not have permission to perform this action'"}}],"line":8,"description":"","durationMillis":6.961483,"failed":false,"tags":["debug"],"executorName":"main","name":"Apply Wallet Amount without Login","startTime":1663224802859,"refId":"[1:8]","endTime":1663224802866,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":31569,"millis":0.031569,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:8009\/graphql\/'"}},{"result":{"nanos":30922,"millis":0.030922,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def token = \"\""}},{"result":{"nanos":9676,"millis":0.009676,"status":"passed"},"step":{"comments":["# Login as a Sales executive"],"line":19,"prefix":"Given","index":0,"text":"path '\/'"}},{"result":{"nanos":127144,"millis":0.127144,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"def query = read('..\/accounts\/login.graphql')"}},{"result":{"nanos":2548177,"millis":2.548177,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"def variables = {username:defaultuser3, password:test}"}},{"result":{"nanos":123169,"millis":0.123169,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"request {query:'#(query)',variables:\"#(variables)\"}"}},{"result":{"nanos":168704730,"millis":168.70473,"status":"passed"},"step":{"line":23,"prefix":"When","index":4,"text":"method post"},"stepLog":"12:23:22.871 request:\n1 > POST http:\/\/localhost:8009\/graphql\/\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 252\n1 > Host: localhost:8009\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2-ea)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"mutation Login($username:String!, $password:String!){\\n    tokenAuth(username:$username, password:$password){\\n        token\\n        refreshToken\\n        refreshExpiresIn\\n    }\\n}\",\"variables\":{\"username\":\"defaultuser3\",\"password\":\"test\"}}\n\n12:23:23.038 response time in milliseconds: 167\n1 < 200\n1 < Date: Thu, 15 Sep 2022 06:53:23 GMT\n1 < Server: WSGIServer\/0.2 CPython\/3.10.6\n1 < Content-Type: application\/json\n1 < Vary: Cookie\n1 < X-Frame-Options: DENY\n1 < Content-Length: 388\n1 < X-Content-Type-Options: nosniff\n1 < Referrer-Policy: same-origin\n1 < Set-Cookie: csrftoken=oMKHCerawmfgIrlwjlnHuGG8k0sRX7jaEtpo0qRi5XiHtxAOG2nBNujFR5SEvwR4; Max-Age=1694674403000; Expires=Thu, 19 Oct 55724 08:36:43 GMT; Domain=localhost\n{\"data\":{\"tokenAuth\":{\"token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6ImRlZmF1bHR1c2VyMyIsImV4cCI6MTY2MzIyODQwMywib3JpZ0lhdCI6MTY2MzIyNDgwMywianRpIjoiM2E4NTFmYzBjMDA4MmRiOGMzZmQzZTZhYjk4ZTg3YzQ4YzQ3OWQ5M2U4YjkxMWM3MDI1MmYyYzI0ODZkYmE2NCJ9.1NHNoxOlFovO0MQvf87ji7gJoM1tC_rGTW4R_knKnpM\",\"refreshToken\":\"f5d2e009f3c6e26ecff9943eac1c09cb9002b7a1\",\"refreshExpiresIn\":1663829603}}}\n\n"},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":24,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":271587,"millis":0.271587,"status":"passed"},"step":{"comments":["# Apply Wallet Amount with valid data"],"line":27,"prefix":"*","index":6,"text":"def token = response.data.tokenAuth.token"}},{"result":{"nanos":179951,"millis":0.179951,"status":"passed"},"step":{"line":28,"prefix":"*","index":7,"text":"header Authorization = \"JWT\"+\" \"+token"}},{"result":{"nanos":445427,"millis":0.445427,"status":"passed"},"step":{"line":29,"prefix":"Given","index":8,"text":"def query = read('apply_wallet_amount.graphql')"}},{"result":{"nanos":336576,"millis":0.336576,"status":"passed"},"step":{"line":30,"prefix":"And","index":9,"text":"def variables = { orderId:T3JkZXJOb2RlOjI4, shopId:U2hvcFR5cGU6MQ==, amount:10.00 }"}},{"result":{"nanos":191663,"millis":0.191663,"status":"passed"},"step":{"line":31,"prefix":"And","index":10,"text":"request {query:'#(query)',variables:\"#(variables)\"}"}},{"result":{"nanos":40688749,"millis":40.688749,"status":"passed"},"step":{"line":32,"prefix":"When","index":11,"text":"method post"},"stepLog":"12:23:23.043 request:\n2 > POST http:\/\/localhost:8009\/graphql\/\n2 > Authorization: JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6ImRlZmF1bHR1c2VyMyIsImV4cCI6MTY2MzIyODQwMywib3JpZ0lhdCI6MTY2MzIyNDgwMywianRpIjoiM2E4NTFmYzBjMDA4MmRiOGMzZmQzZTZhYjk4ZTg3YzQ4YzQ3OWQ5M2U4YjkxMWM3MDI1MmYyYzI0ODZkYmE2NCJ9.1NHNoxOlFovO0MQvf87ji7gJoM1tC_rGTW4R_knKnpM\n2 > Cookie: csrftoken=oMKHCerawmfgIrlwjlnHuGG8k0sRX7jaEtpo0qRi5XiHtxAOG2nBNujFR5SEvwR4\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 349\n2 > Host: localhost:8009\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2-ea)\n2 > Accept-Encoding: gzip,deflate\n{\"query\":\"mutation ApplyWalletAmount($orderId:ID!, $shopId:ID!, $amount:Decimal!){\\n\\tapplyWalletAmount(orderId:$orderId, shopId:$shopId, amount:$amount){\\n\\t\\torder{\\n\\t\\t\\tid\\n\\t\\t\\tisPaid\\n\\t\\t\\tisActive\\n\\t\\t\\tdiscount\\n\\t\\t}\\n\\t\\tstatus\\n\\t\\tmessage\\n\\t}\\n}\",\"variables\":{\"orderId\":\"T3JkZXJOb2RlOjI4\",\"shopId\":\"U2hvcFR5cGU6MQ==\",\"amount\":10.0}}\n\n12:23:23.082 response time in milliseconds: 39\n2 < 200\n2 < Date: Thu, 15 Sep 2022 06:53:23 GMT\n2 < Server: WSGIServer\/0.2 CPython\/3.10.6\n2 < Content-Type: application\/json\n2 < Vary: Cookie\n2 < X-Frame-Options: DENY\n2 < Content-Length: 180\n2 < X-Content-Type-Options: nosniff\n2 < Referrer-Policy: same-origin\n2 < Set-Cookie: csrftoken=oMKHCerawmfgIrlwjlnHuGG8k0sRX7jaEtpo0qRi5XiHtxAOG2nBNujFR5SEvwR4; Max-Age=1694674403000; Expires=Thu, 19 Oct 55724 08:36:43 GMT; Domain=localhost\n{\"data\":{\"applyWalletAmount\":{\"order\":{\"id\":\"T3JkZXJOb2RlOjI4\",\"isPaid\":false,\"isActive\":true,\"discount\":\"10\"},\"status\":\"success\",\"message\":\"Wallet Amount Applied Successfully!\"}}}\n\n"},{"result":{"nanos":15020,"millis":0.01502,"status":"passed"},"step":{"line":33,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":403132,"millis":0.403132,"status":"passed"},"step":{"line":34,"prefix":"Then","index":13,"text":"match response.data.applyWalletAmount.message == 'Wallet Amount Applied Successfully!'"}}],"line":17,"description":"","durationMillis":214.142192,"failed":false,"tags":["debug"],"executorName":"main","name":"Apply Wallet Amount for Invalid order ID","startTime":1663224802868,"refId":"[2:17]","endTime":1663224803082,"exampleIndex":-1}],"callDepth":0,"name":"Apply Wallet Amount Test","description":"","resultDate":"2022-09-15 12:23:23 PM","durationMillis":221.103675,"passedCount":2}